(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{3995:function(e,t,s){Promise.resolve().then(s.bind(s,7304))},7304:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(7437),a=s(2265),c=s(8553),i=s(9763);let l=(0,i.Z)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);var r=s(1047),o=s(1723),d=s(3774);let x=(0,i.Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);var m=s(1837),h=s(5749),u=s(7735),p=s(1);function g(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)("all"),[g,v]=(0,a.useState)(!0);(0,a.useEffect)(()=>(y(),h.U.connect(),h.U.on("event:new",e=>{t(t=>[...t,e].sort((e,t)=>new Date(e.startTime).getTime()-new Date(t.startTime).getTime()))}),h.U.on("event:update",e=>{t(t=>t.map(t=>t._id===e._id?e:t))}),h.U.on("event:delete",e=>{let{id:s}=e;t(e=>e.filter(e=>e._id!==s))}),()=>{h.U.off("event:new"),h.U.off("event:update"),h.U.off("event:delete")}),[]);let y=async()=>{try{let e=await m.h.getEvents({upcoming:!0});t(e)}catch(e){console.error("Failed to load events:",e)}finally{v(!1)}},f=e.filter(e=>"all"===s||e.type===s),j=e=>"dinner"===e?c.Z:l,N=e=>"dinner"===e?"from-orange-600 to-orange-700":"from-purple-600 to-purple-700";return g?(0,n.jsx)(p.A,{children:(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})})}):(0,n.jsx)(p.A,{children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-pink-600 to-pink-700 rounded-xl shadow-lg p-8 text-white",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,n.jsx)(c.Z,{className:"w-8 h-8"}),(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Dinners & Cultural Events"})]}),(0,n.jsx)("p",{className:"text-pink-100",children:"Join us for evening social events and cultural programs"})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("all"===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All Events"}),(0,n.jsxs)("button",{onClick:()=>i("dinner"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ".concat("dinner"===s?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,n.jsx)(c.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Dinners"})]}),(0,n.jsxs)("button",{onClick:()=>i("cultural"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ".concat("cultural"===s?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,n.jsx)(l,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Cultural"})]})]})}),(0,n.jsx)("div",{className:"space-y-4",children:0===f.length?(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:[(0,n.jsx)(r.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,n.jsxs)("p",{children:["No ","all"===s?"":s," events scheduled yet."]})]}):f.map(e=>{let t=j(e.type);return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r ".concat(N(e.type)," p-6 text-white"),children:(0,n.jsx)("div",{className:"flex items-start justify-between",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"p-2 bg-white bg-opacity-20 rounded-lg",children:(0,n.jsx)(t,{className:"w-6 h-6"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-2xl font-bold mb-1",children:e.title}),(0,n.jsx)("span",{className:"px-2 py-1 bg-white bg-opacity-20 rounded text-xs font-medium uppercase",children:e.type})]})]})})}),(0,n.jsxs)("div",{className:"p-6 space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.description}),(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(r.Z,{className:"w-5 h-5 text-gray-500 mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:(0,u.WU)(new Date(e.startTime),"EEEE, MMMM d, yyyy")})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(o.Z,{className:"w-5 h-5 text-gray-500 mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Time"}),(0,n.jsxs)("p",{className:"font-medium text-gray-900",children:[(0,u.WU)(new Date(e.startTime),"h:mm a")," -"," ",(0,u.WU)(new Date(e.endTime),"h:mm a")]})]})]}),(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(d.Z,{className:"w-5 h-5 text-gray-500 mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Venue"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:e.venue})]})]}),(e.rsvpRequired||e.ticketInfo)&&(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(x,{className:"w-5 h-5 text-gray-500 mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"RSVP"}),(0,n.jsx)("p",{className:"font-medium text-gray-900",children:e.rsvpRequired?"Required":"Not Required"}),e.ticketInfo&&(0,n.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.ticketInfo})]})]})]})]})]},e._id)})})]})})}},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5749:function(e,t,s){"use strict";s.d(t,{U:function(){return l}});var n=s(8680),a=s(257);let c=()=>a.env.NEXT_PUBLIC_SOCKET_URL||a.env.NEXT_PUBLIC_API_URL||"";class i{connect(){var e;if(null===(e=this.socket)||void 0===e?void 0:e.connected)return this.socket;let t=c();return this.socket=(0,n.io)(t||window.location.origin,{path:"/api/socket",autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{console.log("Socket connected")}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}on(e,t){var s;this.socket||this.connect(),null===(s=this.socket)||void 0===s||s.on(e,t)}off(e,t){var s;null===(s=this.socket)||void 0===s||s.off(e,t)}getSocket(){return this.socket||this.connect(),this.socket}constructor(){this.socket=null}}let l=new i}},function(e){e.O(0,[44,30,735,1,971,117,744],function(){return e(e.s=3995)}),_N_E=e.O()}]);