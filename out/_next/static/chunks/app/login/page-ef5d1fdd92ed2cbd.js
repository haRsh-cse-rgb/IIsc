(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9030:function(e,t,r){Promise.resolve().then(r.bind(r,4988))},4988:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(7437),s=r(2265),o=r(1047);let a=(0,r(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var c=r(4362),i=r(9376);function u(){let[e,t]=(0,s.useState)(""),[r,u]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[h,m]=(0,s.useState)(""),{login:y}=(0,c.a)(),f=(0,i.useRouter)(),g=async t=>{t.preventDefault(),d(!0),m("");try{await y(e,r),f.push("/admin")}catch(e){m(e.message||"Login failed. Please check your credentials.")}finally{d(!1)}};return(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700 flex items-center justify-center p-4",children:(0,n.jsx)("div",{className:"max-w-md w-full",children:(0,n.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(o.Z,{className:"w-10 h-10 text-white"})}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"STIS Conference"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Admin Login"})]}),(0,n.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[h&&(0,n.jsx)("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:(0,n.jsx)("p",{className:"text-red-800 text-sm",children:h})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,n.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),placeholder:"admin@stis.edu",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",required:!0,value:r,onChange:e=>u(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,n.jsx)("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,n.jsx)("span",{children:"Signing in..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"Sign In"})]})})]}),(0,n.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,n.jsx)("p",{className:"text-center text-sm text-gray-600",children:"Demo: admin@stis.edu / admin123"})})]})})})}},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let r=(0,n.forwardRef)((r,a)=>{let{color:c="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:l,className:d="",children:h,...m}=r;return(0,n.createElement)("svg",{ref:a,...s,width:i,height:i,stroke:c,strokeWidth:l?24*Number(u)/Number(i):u,className:["lucide","lucide-".concat(o(e)),d].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(h)?h:[h]])});return r.displayName="".concat(e),r}},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},257:function(e,t,r){"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var i=[],u=!1,l=-1;function d(){u&&n&&(u=!1,n.length?i=n.concat(i):l=-1,i.length&&h())}function h(){if(!u){var e=c(d);u=!0;for(var t=i.length;t;){for(n=i,i=[];++l<t;)n&&n[l].run();l=-1,t=i.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new m(e,t)),1!==i.length||u||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var s=n(229);e.exports=s}()},4362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return c}});var n=r(7437),s=r(2265),o=r(1837);let a=(0,s.createContext)(void 0),c=()=>{let e=(0,s.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e},i=e=>{let{children:t}=e,[r,c]=(0,s.useState)(null),[i,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&(u(e),t&&c(JSON.parse(t)))}},[]);let l=async(e,t)=>{let r=await o.h.login(e,t);u(r.token),c(r.user),o.h.setToken(r.token),localStorage.setItem("user",JSON.stringify(r.user))},d=(null==r?void 0:r.role)==="admin",h=(null==r?void 0:r.role)==="volunteer";return(0,n.jsx)(a.Provider,{value:{user:r,token:i,login:l,logout:()=>{c(null),u(null),o.h.setToken(null),localStorage.removeItem("user")},isAdmin:d,isVolunteer:h,isAuthenticated:!!r&&!!i},children:t})}},1837:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});let n=r(257).env.NEXT_PUBLIC_API_URL||"";class s{setToken(e){this.token=e,e?localStorage.setItem("token",e):localStorage.removeItem("token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={"Content-Type":"application/json"};t.headers&&(t.headers instanceof Headers?t.headers.forEach((e,t)=>{r[t]=e}):Array.isArray(t.headers)?t.headers.forEach(e=>{let[t,n]=e;r[t]=n}):Object.assign(r,t.headers)),this.token&&(r.Authorization="Bearer ".concat(this.token));let n="".concat(this.baseUrl).concat(e);console.log("API Request: ".concat(t.method||"GET"," ").concat(n));let s=await fetch(n,{...t,headers:r});if(!s.ok){let e=await s.json().catch(()=>({error:"Request failed"}));throw console.error("API Error (".concat(s.status,"):"),e),Error(e.error||"Request failed")}let o=await s.json();return console.log("API Response from ".concat(n,":"),Array.isArray(o)?"".concat(o.length," items"):"object"),o}async login(e,t){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async getAnnouncements(e){let t=new URLSearchParams(e).toString();return this.request("/announcements".concat(t?"?".concat(t):""))}async createAnnouncement(e){return this.request("/announcements",{method:"POST",body:JSON.stringify(e)})}async updateAnnouncement(e,t){return this.request("/announcements/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteAnnouncement(e){return this.request("/announcements/".concat(e),{method:"DELETE"})}async getSchedules(e){let t=new URLSearchParams(e).toString();return this.request("/schedules".concat(t?"?".concat(t):""))}async createSchedule(e){return this.request("/schedules",{method:"POST",body:JSON.stringify(e)})}async updateSchedule(e,t){return this.request("/schedules/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteSchedule(e){return this.request("/schedules/".concat(e),{method:"DELETE"})}async getHalls(){return this.request("/halls")}async getHallStatus(){return this.request("/halls/status")}async createHall(e){return this.request("/halls",{method:"POST",body:JSON.stringify(e)})}async updateHall(e,t){return this.request("/halls/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteHall(e){return this.request("/halls/".concat(e),{method:"DELETE"})}async getComplaints(e){let t=new URLSearchParams(e).toString();return this.request("/complaints".concat(t?"?".concat(t):""))}async getPublicComplaints(){return this.request("/complaints/public")}async createComplaint(e){return this.request("/complaints",{method:"POST",body:JSON.stringify(e)})}async updateComplaint(e,t){return this.request("/complaints/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async getEvents(e){let t=new URLSearchParams(e).toString();return this.request("/events".concat(t?"?".concat(t):""))}async createEvent(e){return this.request("/events",{method:"POST",body:JSON.stringify(e)})}async updateEvent(e,t){return this.request("/events/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteEvent(e){return this.request("/events/".concat(e),{method:"DELETE"})}async getUsers(){return this.request("/users")}async updateUser(e,t){return this.request("/users/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}async getMenus(e){let t=new URLSearchParams(e).toString();return this.request("/menus".concat(t?"?".concat(t):""))}async createMenu(e){return this.request("/menus",{method:"POST",body:JSON.stringify(e)})}async updateMenu(e,t){return this.request("/menus/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteMenu(e){return this.request("/menus/".concat(e),{method:"DELETE"})}getExportUrl(e){return"".concat(this.baseUrl,"/export/").concat(e)}constructor(){this.token=null,this.baseUrl=n?"".concat(n,"/api"):"/api",this.token=localStorage.getItem("token")}}let o=new s}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9030)}),_N_E=e.O()}]);