(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{200:function(e,t,s){Promise.resolve().then(s.bind(s,9393))},9393:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(7437),r=s(2265),c=s(5805),a=s(3774),l=s(1723),i=s(6362);let o=(0,s(9763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=s(1837),h=s(5749),x=s(7735),m=s(6466),u=s(9955),p=s(2110),f=s(1);function g(){let[e,t]=(0,r.useState)([]),[s,g]=(0,r.useState)(!0);(0,r.useEffect)(()=>{j();let e=setInterval(j,6e4);return h.U.connect(),h.U.on("schedule:update",()=>{j()}),()=>{clearInterval(e),h.U.off("schedule:update")}},[]);let j=async()=>{try{let e=await d.h.getHallStatus();t(e)}catch(e){console.error("Failed to load hall status:",e)}finally{g(!1)}};return s?(0,n.jsx)(f.A,{children:(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})})}):(0,n.jsx)(f.A,{children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-xl shadow-lg p-8 text-white",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,n.jsx)(c.Z,{className:"w-8 h-8"}),(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Halls Dashboard"})]}),(0,n.jsx)("p",{className:"text-purple-100",children:"Real-time view of what's happening in each hall"})]}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:e.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-4 text-white",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:e.hall.code}),(0,n.jsx)("p",{className:"text-purple-100 text-sm",children:e.hall.name}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-sm mt-1 text-purple-100",children:[(0,n.jsx)(a.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:e.hall.location})]})]}),(0,n.jsxs)("div",{className:"p-6 space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Current Session"}),null!==e.timeRemaining&&(0,n.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium text-green-600",children:[(0,n.jsx)(l.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[e.timeRemaining," min remaining"]})]})]}),e.current?(0,n.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:e.current.title}),(0,n.jsx)("p",{className:"text-gray-700 mb-3",children:e.current.authors}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,x.WU)(new Date(e.current.startTime),"h:mm a")," -"," ",(0,x.WU)(new Date(e.current.endTime),"h:mm a")]}),e.current.slideLink&&(0,n.jsxs)("a",{href:e.current.slideLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[(0,n.jsx)(i.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Slides"})]})]})]}):(0,n.jsxs)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4 text-center text-gray-500",children:[(0,n.jsx)(c.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,n.jsx)("p",{className:"font-medium",children:"No ongoing session"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,n.jsx)(o,{className:"w-5 h-5 text-blue-600"}),(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Next Session"})]}),e.next?(0,n.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-bold text-lg text-gray-900 mb-2",children:e.next.title}),(0,n.jsx)("p",{className:"text-gray-700 mb-3",children:e.next.authors}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["Starts at ",(0,x.WU)(new Date(e.next.startTime),"h:mm a")]}),(0,n.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:["In ",Math.max(0,function(e,t,s){let n=(0,p._)(e,t)/u.yJ;return(0,m.u)(void 0)(n)}(new Date(e.next.startTime),new Date))," min"]})]})]}):(0,n.jsx)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4 text-center text-gray-500",children:(0,n.jsx)("p",{className:"font-medium",children:"No upcoming sessions"})})]})]})]},e.hall.id))})]})})}},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},6362:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9763).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5749:function(e,t,s){"use strict";s.d(t,{U:function(){return l}});var n=s(8680),r=s(257);let c=()=>r.env.NEXT_PUBLIC_SOCKET_URL||r.env.NEXT_PUBLIC_API_URL||"";class a{connect(){var e;if(null===(e=this.socket)||void 0===e?void 0:e.connected)return this.socket;let t=c();return this.socket=(0,n.io)(t||window.location.origin,{path:"/api/socket",autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{console.log("Socket connected")}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}),this.socket}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}on(e,t){var s;this.socket||this.connect(),null===(s=this.socket)||void 0===s||s.on(e,t)}off(e,t){var s;null===(s=this.socket)||void 0===s||s.off(e,t)}getSocket(){return this.socket||this.connect(),this.socket}constructor(){this.socket=null}}let l=new a},6466:function(e,t,s){"use strict";function n(e){return t=>{let s=(e?Math[e]:Math.trunc)(t);return 0===s?0:s}}s.d(t,{u:function(){return n}})},2110:function(e,t,s){"use strict";s.d(t,{_:function(){return r}});var n=s(5036);function r(e,t){return+(0,n.Q)(e)-+(0,n.Q)(t)}}},function(e){e.O(0,[44,30,735,1,971,117,744],function(){return e(e.s=200)}),_N_E=e.O()}]);